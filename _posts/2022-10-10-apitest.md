---
keywords: fastai
description: Week 7
title: API Test HACKS
toc: true
categories: [Week 7]
comments: true
nb_path: _notebooks/2022-10-10-apitest.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-10-10-apitest.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include submenu.html %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Using-the-Random-number-API-that-will-help-for-the-Minesweeper-Project">Using the Random number API that will help for the Minesweeper Project<a class="anchor-link" href="#Using-the-Random-number-API-that-will-help-for-the-Minesweeper-Project"> </a></h3><ul>
<li>This random number API can be used for creating mine coordinates in the minesweeper final project that our group is creating</li>
<li><a href="https://www.randomnumberapi.com/">Link for Instructions on how to use the API</a></li>
<li><a href="https://github.com/jameskozlowski/randomnumberapi">API on Gitub</a></li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;http://www.randomnumberapi.com/api/v1.0/random?min=0&amp;max=200&amp;count=20&quot;</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[104, 41, 56, 28, 1, 43, 59, 113, 100, 191, 31, 164, 49, 155, 94, 108, 184, 127, 58, 99]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Using-two-APIs-and-formatters-to-display-location-and-weather-information-about-a-particular-location">Using two APIs and formatters to display location and weather information about a particular location<a class="anchor-link" href="#Using-two-APIs-and-formatters-to-display-location-and-weather-information-about-a-particular-location"> </a></h3><ul>
<li>First API generates the latitude and longitidude of a particular location (from user input)</li>
<li>The latitude and longitude from this API is used in the second API to provide location and weather data</li>
<li>This is all in JSON format which can be "prettified" using JSON formatters"</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>

<span class="n">location</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a Zip Code (Ex: 92127)&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;You are evaluating location and weather data for Zip Code: &quot;</span> <span class="o">+</span> <span class="n">location</span><span class="p">)</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://us-zip-code-information.p.rapidapi.com/&quot;</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;zipcode&quot;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">location</span><span class="p">)}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s2">&quot;X-RapidAPI-Key&quot;</span><span class="p">:</span> <span class="s2">&quot;6cef6d9f81mshf9a1793ed8d336ap1c4e09jsn658eb44a2a5f&quot;</span><span class="p">,</span>
	<span class="s2">&quot;X-RapidAPI-Host&quot;</span><span class="p">:</span> <span class="s2">&quot;us-zip-code-information.p.rapidapi.com&quot;</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>
<span class="n">locations</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="n">lat</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">lon</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">locations</span><span class="p">:</span>
  <span class="n">lat</span> <span class="o">=</span>  <span class="n">location</span><span class="p">[</span><span class="s2">&quot;Latitude&quot;</span><span class="p">]</span>
  <span class="n">lon</span> <span class="o">=</span> <span class="n">location</span><span class="p">[</span><span class="s2">&quot;Longitude&quot;</span><span class="p">]</span>


  <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://weatherbit-v1-mashape.p.rapidapi.com/current&quot;</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;lon&quot;</span><span class="p">:</span><span class="n">lon</span><span class="p">,</span><span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="n">lat</span><span class="p">,</span> <span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="s1">&#39;imperial&#39;</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s2">&quot;X-RapidAPI-Key&quot;</span><span class="p">:</span> <span class="s2">&quot;6cef6d9f81mshf9a1793ed8d336ap1c4e09jsn658eb44a2a5f&quot;</span><span class="p">,</span>
	<span class="s2">&quot;X-RapidAPI-Host&quot;</span><span class="p">:</span> <span class="s2">&quot;weatherbit-v1-mashape.p.rapidapi.com&quot;</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="n">json_object</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">json_formatted_str</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json_object</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">json_formatted_str</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>You are evaluating location and weather data for Zip Code: 92126
{
  &#34;count&#34;: 1,
  &#34;data&#34;: [
    {
      &#34;app_temp&#34;: 73,
      &#34;aqi&#34;: 39,
      &#34;city_name&#34;: &#34;Mira Mesa&#34;,
      &#34;clouds&#34;: 62,
      &#34;country_code&#34;: &#34;US&#34;,
      &#34;datetime&#34;: &#34;2022-10-11:20&#34;,
      &#34;dewpt&#34;: 60.5,
      &#34;dhi&#34;: 114.98,
      &#34;dni&#34;: 899.17,
      &#34;elev_angle&#34;: 49.29,
      &#34;ghi&#34;: 789.23,
      &#34;gust&#34;: 10.8,
      &#34;h_angle&#34;: 15,
      &#34;lat&#34;: 32.911,
      &#34;lon&#34;: -117.1448,
      &#34;ob_time&#34;: &#34;2022-10-11 19:52&#34;,
      &#34;pod&#34;: &#34;d&#34;,
      &#34;precip&#34;: 0,
      &#34;pres&#34;: 999,
      &#34;rh&#34;: 64,
      &#34;slp&#34;: 1015.23035,
      &#34;snow&#34;: 0,
      &#34;solar_rad&#34;: 664.9,
      &#34;sources&#34;: [
        &#34;rtma&#34;
      ],
      &#34;state_code&#34;: &#34;CA&#34;,
      &#34;station&#34;: &#34;E1483&#34;,
      &#34;sunrise&#34;: &#34;13:50&#34;,
      &#34;sunset&#34;: &#34;01:20&#34;,
      &#34;temp&#34;: 73,
      &#34;timezone&#34;: &#34;America/Los_Angeles&#34;,
      &#34;ts&#34;: 1665517946,
      &#34;uv&#34;: 3.7561529,
      &#34;vis&#34;: 9.9,
      &#34;weather&#34;: {
        &#34;icon&#34;: &#34;c02d&#34;,
        &#34;description&#34;: &#34;Scattered clouds&#34;,
        &#34;code&#34;: 802
      },
      &#34;wind_cdir&#34;: &#34;WNW&#34;,
      &#34;wind_cdir_full&#34;: &#34;west-northwest&#34;,
      &#34;wind_dir&#34;: 282,
      &#34;wind_spd&#34;: 6.1
    }
  ]
}
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">The Kernel crashed while executing code in the the current cell or a previous cell. Please review the code in the cell(s) to identify a possible cause of the failure. Click &lt;a href=&#39;https://aka.ms/vscodeJupyterKernelCrash&#39;&gt;here&lt;/a&gt; for more info. View Jupyter &lt;a href=&#39;command:jupyter.viewOutput&#39;&gt;log&lt;/a&gt; for further details.</span></pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

